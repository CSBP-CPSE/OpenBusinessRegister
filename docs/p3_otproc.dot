digraph obr {
    rankdir="LR";
    subgraph cluster_0 {
	label="Regular processing";
	node [shape=box, color=gold, style=filled];
	{
	    {
		rank=same;
		pr1 [label="Predict character\nencoding", shape=ellipse];
		pr6 [label="[-CSV-] Filter\nerroneous rows", color=coral];
	    }
	    {
		rank=same;
		pr2 [label="Regex filtering", shape=ellipse];
		pr7 [label="[-XML-] Ignore\nmissing or blank\nXML elements", color=coral];
	    }
	    {
		rank=same;
		pr4 [label="Parse data and\nformat entries"];
		pr5 [label="Filter wrongly\nformatted entries"];
	    }
	    pr3 [label="Tabulate to CSV"];
	}
	pr6->pr1;
	pr1->pr2->pr4->pr5->pr3;
	pr2->pr7->pr4;
    }
}